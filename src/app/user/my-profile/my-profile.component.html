<app-menu></app-menu>

<app-loading [content]="user"></app-loading>

<div class="user wrapper" *ngIf="user">

  <app-sidebar [user]="user"></app-sidebar>

  <div id="content" class="content container-fluid">
    <div class="align-center">

      <div class="row">
        <h3 class="name">
          {{user.name}}
        </h3>

        <h5 *ngIf="user.role === 'team'">
          {{user.role}}
        </h5>

        <h5 *ngIf="user.role === 'company'">
          {{company}}
        </h5>

      </div>

      <div class="row">
        <div class="portrait-wrapper">
          <img class="portrait" src="{{user.img}}">
        </div>
      </div>

      <div class="row">
          <ngx-qrcode [qrc-value]="user.id" [qrc-version]=5 [qrc-correction-level]="'L'"></ngx-qrcode>
      </div>

      <div class="row" *ngIf="signatures && user.role === 'user'">
        <h5>{{signatures.day | date:'EEEE'}}'s card</h5>
        <p [ngClass]="{allSignatures: signatures.count === signatures.capacity}">
          {{signatures.count}}/{{signatures.capacity}}
          <i *ngIf="signatures.count === signatures.capacity" class="fa fa-check"></i>
        </p>
      </div>

      <div class="row" *ngIf="user.area">
        <h5>Area </h5>
        <p>{{user.area}}</p>
      </div>

      <div class="row" *ngIf="user.skills">
        <h5>Skills </h5>
        <p>{{user.skills.join(', ')}}</p>
      </div>

      <div class="row" *ngIf="user.points">
        <h5>Current points </h5>
        <p>{{user.points.total ? user.points.total : 0}}</p>
      </div>

      <div class="row" *ngIf="achievements && achievements.length > 0">
        <h5>Achievements earned </h5>
        <div class="achivements-wrapper">
          <img class="achievement" src="{{achievement.img}}" alt="{{achievement.name}}" title="{{achievement.name}}" *ngFor="let achievement of achievements">
        </div>
      </div>
    </div>
  </div>
</div>