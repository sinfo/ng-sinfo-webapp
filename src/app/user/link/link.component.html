<app-loading [content]="company"></app-loading>

<div class="wrapper" *ngIf="company">

  <app-qrcode-scanner (userReadOutput)="receiveUser($event)" [camStarted]="scannerActive" [title]="title" [info]="info">
  </app-qrcode-scanner>

  <div *ngIf="userRead" class='wrapper'>

    <div *ngIf='!yesToLink' class='full-width'>

      <div class="row">
        <div class="col-xs-12">
          <button type="button" class="btn btn-button rescan" (click)="toLink()">
            <span>Link</span>
          </button>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12">
          <button type="button" class="btn btn-button btn-danger" (click)="reScan()">
            Cancel
          </button>
        </div>
      </div>

    </div>

    <div *ngIf='yesToLink' class='full-width'>
      <div class="row">
        <div class="col-xs-12">
          <textarea [(ngModel)]="notes.contacts.email" class="form-control" placeholder="Attendee email">
          </textarea>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <textarea [(ngModel)]="notes.contacts.phone" class="form-control" placeholder="Attendee phone number">
          </textarea>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <textarea [(ngModel)]="notes.interestedIn" class="form-control" placeholder="Attendee's interests">
          </textarea>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <textarea [(ngModel)]="notes.degree" class="form-control" placeholder="Attendee's degree">
          </textarea>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <textarea [(ngModel)]="notes.availability" class="form-control" placeholder="Attendee's avaliability">
          </textarea>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <textarea [(ngModel)]="notes.otherObservations" class="form-control"
            placeholder="Insert your other observations here">
          </textarea>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12">
          <button routerLink="/user/links/my-links" type="button" class="btn btn-button rescan" (click)="link()">
            <span class="glyphicon glyphicon-link"></span> Link
          </button>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12">
          <button class="btn btn-button" (click)="reScan()">
            Rescan QrCode
            <span class="glyphicon glyphicon-qrcode"></span>
          </button>
        </div>
      </div>
    </div>

  </div>
</div>