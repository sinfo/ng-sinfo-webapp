<nav id="sidebar" [ngClass]="{'active': showSidebar }">
  <button type="button" class="hidden-lg hidden-md" (click)="showSidebar = !showSidebar" id="sidebarCollapse">
    <i *ngIf="showSidebar" class="glyphicon glyphicon-menu-left"></i>
    <i *ngIf="!showSidebar" class="glyphicon glyphicon-menu-right"></i>
  </button>
  <!-- Sidebar Links -->
  <ul class="list-unstyled components">
    <span id="sidebarSpan">
      <li [ngClass]="{'active': detectLocation('/qrcode')}">
        <a routerLink="/qrcode">
          <img src="assets/img/icons/sidebar/qrcode.png">
          QrCode
        </a>
      </li>
      <li *ngIf="user && user.role !== 'company'" [ngClass]="{'active': detectLocation('/cv')}">
        <a routerLink="/cv">
          <img *ngIf="isCvUpdated" src="assets/img/icons/sidebar/cv.png">
          <img *ngIf="!isCvUpdated" src="assets/img/icons/sidebar/cvnotification.png">
          Upload CV

        </a>
      </li>
      <li *ngIf="user && user.role === 'company'" [ngClass]="{'active': detectLocation('/downloads/download')}">
        <a routerLink="/downloads/download">
          <i class="glyphicon glyphicon-paperclip"></i>
          Download CVs
        </a>
      </li>
      <li *ngIf="user && user.role === 'team'">
        <a href="#downloadsSubmenu" data-toggle="collapse" attr.aria-expanded="{{ detectLocation('/downloads') }}">
          <i class="glyphicon glyphicon-paperclip"></i>
          Manage Downloads
        </a>
        <ul class="collapse list-unstyled" id="downloadsSubmenu" [ngClass]="{'in': detectLocation('/downloads'), 'collapse': !detectLocation('/downloads')}">
          <li [ngClass]="{'active': detectLocation('/downloads/download')}">
            <a routerLink="/downloads/download">Download CVs</a>
          </li>
          <li [ngClass]="{'active': detectLocation('/downloads/status')}">
            <a routerLink="/downloads/status">Endpoints Status</a>
          </li>
          <li [ngClass]="{'active': detectLocation('/downloads/manage')}">
            <a routerLink="/downloads/manage">Create Endpoints</a>
          </li>
        </ul>
      </li>
      <li *ngIf="user && user.role === 'company'" [ngClass]="{'active': detectLocation('/signature')}">
        <a routerLink="/signature">
          <i class="fa fa-check"></i>
          Sign Card
        </a>
      </li>
      <li *ngIf="user && user.role === 'company'">
        <a href="#linksSubmenu" data-toggle="collapse" attr.aria-expanded="{{ detectLocation('/links') }}">
          <i class="glyphicon glyphicon-duplicate"></i>
          Links
        </a>
        <ul class="collapse list-unstyled" id="linksSubmenu" [ngClass]="{'in': detectLocation('/links'), 'collapse': !detectLocation('/links')}">
          <li [ngClass]="{'active': detectLocation('/links/link')}">
            <a routerLink="/links/link">Link</a>
          </li>
          <li [ngClass]="{'active': detectLocation('/links/my-links')}">
            <a routerLink="/links/my-links">My Links</a>
          </li>
        </ul>
      </li>
      <li *ngIf="user && user.role !== 'company'">
        <a href="#workshopsSubmenu" data-toggle="collapse" attr.aria-expanded="{{ detectLocation('/workshops') }}">
          <img src="assets/img/icons/sidebar/workshops.png">
          Workshops
        </a>
        <ul class="list-unstyled" id="workshopsSubmenu" [ngClass]="{'in': detectLocation('/workshops'), 'collapse': !detectLocation('/workshops')}">
          <li [ngClass]="{'active': detectLocation('/workshops/register')}">
            <a routerLink="/workshops/register">Register</a>
          </li>
          <li [ngClass]="{'active': detectLocation('/workshops/my-workshops')}">
            <a routerLink="/workshops/my-workshops">My Workshops</a>
          </li>
          <li *ngIf="user && user.role === 'team'" [ngClass]="{'active': detectLocation('/workshops/workshops-status')}">
            <a routerLink="/workshops/workshops-status">Workshop Status</a>
          </li>
        </ul>
      </li>
      <li [ngClass]="{'active': detectLocation('/achievements')}">
        <a routerLink="/achievements">
          <img src="assets/img/icons/sidebar/achievements.png">
          Achievements
        </a>
      </li>
      <li [ngClass]="{'active': detectLocation('/scoreboard')}">
        <a routerLink="/scoreboard">
          <img src="assets/img/icons/sidebar/scoreboard.png">
          Scoreboard
        </a>
      </li>
      <li *ngIf="user && user.role !== 'company'" [ngClass]="{'active': detectLocation('/card')}">
        <a routerLink="/card">
          <i class="glyphicon glyphicon-list-alt"></i>
          My card
        </a>
      </li>
      <li *ngIf="user && user.role == 'team' && eventOcurring" [ngClass]="{'active': detectLocation('/validate-card')}">
        <a routerLink="/validate-card">
          <i class="glyphicon glyphicon-search"></i>
          Validate Card
        </a>
      </li>
      <li *ngIf="user && user.role === 'team'" [ngClass]="{'active': detectLocation('/promote')}">
        <a routerLink="/promote">
          <i class="glyphicon glyphicon-king"></i>
          Promote
        </a>
      </li>
      <li *ngIf="user && user.role === 'team' && eventOcurring" [ngClass]="{'active': detectLocation('/checkin')}">
        <a routerLink="/checkin">
          <i class="glyphicon glyphicon-qrcode"></i>
          Check-in
        </a>
      </li>

    </span>
  </ul>
</nav>